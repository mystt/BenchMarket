# Render Blueprint — backend API for BenchMarket
# Connect this repo at render.com → New → Blueprint, or add as Web Service manually.

services:
  - type: web
    name: benchmarket-api
    runtime: node
    region: oregon

    # Monorepo: backend lives in backend/
    rootDir: backend

    buildCommand: npm install --include=dev && npm run build
    startCommand: npm start

    # Render sets PORT automatically
    healthCheckPath: /health

    envVars:
      - key: NODE_ENV
        value: production
      # Set OPENAI_API_KEY in Dashboard → Environment → Add Variable, then "Save and deploy"
      - key: OPENAI_API_KEY
        sync: false
